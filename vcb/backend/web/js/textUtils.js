textUtils={};textUtils.formatTime=function(time,format){var months=['1','2','3','4','5','6','7','8','9','10','11','12'];time=parseFloat(time);var a=new Date(time);var year=a.getFullYear();var month=months[a.getMonth()];var day=a.getDate();var hour=a.getHours();var minute=a.getMinutes();var second=a.getSeconds();var time="";if(format==='day'){time=day+"/"+month+"/"+year}else if(format==='hour'){time=hour+":"+minute+" "+day+"/"+month+"/"+year}else if(format==='time'){time=day+"/"+month+"/"+year+" "+hour+":"+minute+":"+second}else if(format==='hourfirst'){time=hour+":"+minute+":"+second+" "+day+"/"+month+"/"+year}
return time};Number.prototype.toMoney=function(decimals,decimal_sep,thousands_sep){var n=this,c=isNaN(decimals)?2:Math.abs(decimals),d=decimal_sep||'.',t=(typeof thousands_sep==='undefined')?',':thousands_sep,sign=(n<0)?'-':'',i=parseInt(n=Math.abs(n).toFixed(c))+'',j=((j=i.length)>3)?j%3:0;return sign+(j?i.substr(0,j)+t:'')+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):'')};textUtils.inputNumberFormat=function(cssClass){$.each($('input.'+cssClass),function(){var num=this;$(this).on("keyup",function(e){var val=$(num).val().replace(/\./g,'');if(val!=''&&!isNaN(val)){$(num).val(parseFloat(val).toMoney(0,',','.'))}else{$(num).val(0)}})})};textUtils.numberFormat=function(cssClass){$.each($('input.'+cssClass),function(){var num=this;$(this).on("keyup",function(e){var val=$(num).val().replace(/\./g,'');if(val!=''){if(val.charAt(0)=='-'){var res=val.split("-");if(typeof res[1]!="undefined"&&res[1]!=''){var str='-'+parseFloat(res[1]).toMoney(0,',','.');$(num).val(str)}}else{$(num).val(parseFloat(val).toMoney(0,',','.'))}}})})};textUtils.moneyFormat=function(cssClass){$.each($('input.'+cssClass),function(){var num=this;$(this).on("keyup",function(e){var val=$(num).val().replace(/\,/g,'');if(val!=''){if(val.charAt(0)=='-'){var res=val.split("-");if(typeof res[1]!="undefined"&&res[1]!=''){var str='-'+parseFloat(res[1]).toMoney(0,'.',',');$(num).val(str)}}else{$(num).val(parseFloat(val).toMoney(0,'.',','))}}})})}